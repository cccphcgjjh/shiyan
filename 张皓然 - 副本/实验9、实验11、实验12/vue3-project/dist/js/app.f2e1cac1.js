(function(){"use strict";var e={5645:function(e,t,l){var o=l(5130),a=l(6768);const d={class:"common-layout"},s={class:"header-content"};function r(e,t,l,o,r,i){const u=(0,a.g2)("el-button"),n=(0,a.g2)("el-header"),m=(0,a.g2)("MyAside"),c=(0,a.g2)("router-view"),h=(0,a.g2)("el-main"),b=(0,a.g2)("el-container");return(0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[t[1]||(t[1]=(0,a.Lk)("span",null,"这里是系统名称：哈信息代码系统",-1)),(0,a.bF)(u,{type:"text",onClick:i.logout,class:"logout-button"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("退出")]))),_:1},8,["onClick"])])])),_:1}),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(m),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.bF)(c)])),_:1})])),_:1})])),_:1})])}l(4114);function i(e,t,l,o,d,s){const r=(0,a.g2)("el-menu-item"),i=(0,a.g2)("el-menu"),u=(0,a.g2)("el-aside");return(0,a.uX)(),(0,a.Wv)(u,{width:"200px"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{"default-active":"1",router:""},{default:(0,a.k6)((()=>[(0,a.bF)(r,{index:"/"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.Lk)("i",{class:"el-icon-house"},null,-1),(0,a.Lk)("span",null,"首页",-1)]))),_:1}),(0,a.bF)(r,{index:"/studentList"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.Lk)("i",{class:"el-icon-info"},null,-1),(0,a.Lk)("span",null,"学生管理",-1)]))),_:1}),(0,a.bF)(r,{index:"/courseList"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.Lk)("i",{class:"el-icon-info"},null,-1),(0,a.Lk)("span",null,"课程管理",-1)]))),_:1}),(0,a.bF)(r,{index:"/bookList"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.Lk)("i",{class:"el-icon-info"},null,-1),(0,a.Lk)("span",null,"图书管理",-1)]))),_:1}),(0,a.bF)(r,{index:"/customerList"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.Lk)("i",{class:"el-icon-info"},null,-1),(0,a.Lk)("span",null,"客户管理",-1)]))),_:1}),(0,a.bF)(r,{index:"/about"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.Lk)("i",{class:"el-icon-info"},null,-1),(0,a.Lk)("span",null,"关于我们",-1)]))),_:1}),(0,a.bF)(r,{index:"/contact"},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.Lk)("i",{class:"el-icon-phone"},null,-1),(0,a.Lk)("span",null,"联系我们",-1)]))),_:1})])),_:1})])),_:1})}var u={name:"MyAside"},n=l(1241);const m=(0,n.A)(u,[["render",i],["__scopeId","data-v-6bb0d2ad"]]);var c=m,h={components:{MyAside:c},methods:{logout(){localStorage.removeItem("userToken"),this.$router.push("/login")}}};const b=(0,n.A)(h,[["render",r],["__scopeId","data-v-62c000af"]]);var p=b,F=l(6859),f=(l(4188),l(8992),l(7550),l(973));function k(e,t,l,o,d,s){return(0,a.uX)(),(0,a.CE)("div",null,t[0]||(t[0]=[(0,a.Lk)("h1",null,"首页",-1),(0,a.Lk)("p",null,"这是首页内容。",-1)]))}var V={name:"HomeDemo"};const g=(0,n.A)(V,[["render",k]]);var C=g;function _(e,t,l,o,d,s){return(0,a.uX)(),(0,a.CE)("div",null,t[0]||(t[0]=[(0,a.Lk)("h1",null,"关于我们",-1),(0,a.Lk)("p",null,"这是关于我们页面的内容。",-1)]))}var y={name:"AboutDemo"};const w=(0,n.A)(y,[["render",_]]);var v=w;function x(e,t,l,o,d,s){return(0,a.uX)(),(0,a.CE)("div",null,t[0]||(t[0]=[(0,a.Lk)("h1",null,"联系我们",-1),(0,a.Lk)("p",null,"这是联系我们页面的内容。",-1)]))}var A={name:"ContactDemo"};const S=(0,n.A)(A,[["render",x]]);var U=S;const L={class:"dialog-footer"},B={class:"dialog-footer"};function W(e,t,l,o,d,s){const r=(0,a.g2)("el-input"),i=(0,a.g2)("el-form-item"),u=(0,a.g2)("el-option"),n=(0,a.g2)("el-select"),m=(0,a.g2)("el-button"),c=(0,a.g2)("el-form"),h=(0,a.g2)("el-table-column"),b=(0,a.g2)("el-table"),p=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c,{inline:!0,model:d.searchForm,width:"30%"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"姓名"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.searchForm.name,"onUpdate:modelValue":t[0]||(t[0]=e=>d.searchForm.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"性别"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.searchForm.sex,"onUpdate:modelValue":t[1]||(t[1]=e=>d.searchForm.sex=e),placeholder:"请选择性别",style:{width:"150px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"请选择",value:""}),(0,a.bF)(u,{label:"男",value:"男"}),(0,a.bF)(u,{label:"女",value:"女"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{type:"primary",onClick:s.onSearch},{default:(0,a.k6)((()=>t[14]||(t[14]=[(0,a.eW)("查询")]))),_:1},8,["onClick"]),(0,a.bF)(m,{onClick:s.resetForm},{default:(0,a.k6)((()=>t[15]||(t[15]=[(0,a.eW)("重置")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),(0,a.bF)(m,{type:"info",onClick:s.refreshStudents},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)("刷新")]))),_:1},8,["onClick"]),(0,a.bF)(m,{type:"success",onClick:s.showAddDialog},{default:(0,a.k6)((()=>t[17]||(t[17]=[(0,a.eW)("新增")]))),_:1},8,["onClick"]),(0,a.bF)(m,{type:"danger",onClick:s.deleteStudents},{default:(0,a.k6)((()=>t[18]||(t[18]=[(0,a.eW)("批量删除")]))),_:1},8,["onClick"]),(0,a.bF)(b,{data:d.students,style:{width:"100%"},onSelectionChange:s.handleSelectionChange},{default:(0,a.k6)((()=>[(0,a.bF)(h,{type:"selection",width:"55"}),(0,a.bF)(h,{prop:"id",label:"ID",width:"100"}),(0,a.bF)(h,{prop:"name",label:"姓名"}),(0,a.bF)(h,{prop:"sex",label:"性别"}),(0,a.bF)(h,{prop:"age",label:"年龄"}),(0,a.bF)(h,{prop:"remark",label:"备注"}),(0,a.bF)(h,{label:"操作",width:"180"},{default:(0,a.k6)((e=>[(0,a.bF)(m,{size:"mini",onClick:t=>s.showEditDialog(e.row)},{default:(0,a.k6)((()=>t[19]||(t[19]=[(0,a.eW)("编辑")]))),_:2},1032,["onClick"]),(0,a.bF)(m,{size:"mini",type:"danger",onClick:t=>s.confirmDeleteStudent(e.row.id,e.row.name)},{default:(0,a.k6)((()=>t[20]||(t[20]=[(0,a.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,a.bF)(p,{title:"添加学生",modelValue:d.addVisible,"onUpdate:modelValue":t[7]||(t[7]=e=>d.addVisible=e),width:"30%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",L,[(0,a.bF)(m,{onClick:t[6]||(t[6]=e=>d.addVisible=!1)},{default:(0,a.k6)((()=>t[21]||(t[21]=[(0,a.eW)("取 消")]))),_:1}),(0,a.bF)(m,{type:"primary",onClick:s.addStudent},{default:(0,a.k6)((()=>t[22]||(t[22]=[(0,a.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(c,{model:d.addForm},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"姓名","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.name,"onUpdate:modelValue":t[2]||(t[2]=e=>d.addForm.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"性别","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.addForm.sex,"onUpdate:modelValue":t[3]||(t[3]=e=>d.addForm.sex=e),placeholder:"请选择性别"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"男",value:"男"}),(0,a.bF)(u,{label:"女",value:"女"}),(0,a.bF)(u,{label:"未知",value:"未知"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"年龄","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.age,"onUpdate:modelValue":t[4]||(t[4]=e=>d.addForm.age=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"备注","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.remark,"onUpdate:modelValue":t[5]||(t[5]=e=>d.addForm.remark=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a.bF)(p,{title:"编辑学生",modelValue:d.editVisible,"onUpdate:modelValue":t[13]||(t[13]=e=>d.editVisible=e),width:"30%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",B,[(0,a.bF)(m,{onClick:t[12]||(t[12]=e=>d.editVisible=!1)},{default:(0,a.k6)((()=>t[23]||(t[23]=[(0,a.eW)("取 消")]))),_:1}),(0,a.bF)(m,{type:"primary",onClick:s.updateStudent},{default:(0,a.k6)((()=>t[24]||(t[24]=[(0,a.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(c,{model:d.editForm},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"姓名","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.name,"onUpdate:modelValue":t[8]||(t[8]=e=>d.editForm.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"性别","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.editForm.sex,"onUpdate:modelValue":t[9]||(t[9]=e=>d.editForm.sex=e),placeholder:"请选择性别"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"男",value:"男"}),(0,a.bF)(u,{label:"女",value:"女"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"年龄","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.age,"onUpdate:modelValue":t[10]||(t[10]=e=>d.editForm.age=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"备注","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.remark,"onUpdate:modelValue":t[11]||(t[11]=e=>d.editForm.remark=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}l(4520),l(1454);var D=l(4373),E=l(2933),I={name:"StudentList",data(){return{students:[],searchForm:{name:"",sex:""},addVisible:!1,editVisible:!1,addForm:{name:"",sex:"男",age:"",remark:""},editForm:{id:null,name:"",sex:"",age:"",remark:""},selectedStudents:[]}},methods:{async fetchStudents(e){try{const t=await D.A.get("http://127.0.0.1:8080/api/students/list",{params:e});this.students=t.data}catch(t){console.error("Failed to fetch students:",t)}},onSearch(){const e={name:this.searchForm.name,sex:this.searchForm.sex};this.fetchStudents(e)},showAddDialog(){this.addVisible=!0},async addStudent(){try{const e=await D.A.post("http://127.0.0.1:8080/api/students/add",this.addForm);this.students.push(e.data),this.addVisible=!1,this.resetAddForm(),this.refreshStudents()}catch(e){console.error("Failed to add student:",e)}},resetAddForm(){this.addForm.name="",this.addForm.sex="男",this.addForm.age="",this.addForm.remark=""},showEditDialog(e){this.editForm={...e},this.editVisible=!0},async updateStudent(){try{const e=await D.A.post("http://127.0.0.1:8080/api/students/update",this.editForm),t=this.students.findIndex((e=>e.id===this.editForm.id));-1!==t&&(this.students[t]={...e.data}),this.editVisible=!1,this.refreshStudents()}catch(e){console.error("Failed to update student:",e)}},confirmDeleteStudent(e,t){E.s.confirm(`确定要删除学生 "${t}" 吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteStudent(e)})).catch((()=>{}))},async deleteStudent(e){try{await D.A.delete(`http://127.0.0.1:8080/api/students/delete/${e}`),this.students=this.students.filter((t=>t.id!==e)),this.refreshStudents()}catch(t){console.error("Failed to delete student:",t)}},async deleteStudents(){if(0===this.selectedStudents.length)return void this.$message({message:"请选择要删除的学生",type:"warning"});const e=this.selectedStudents.map((e=>e.name)).join(", "),t=`确定要删除以下学生吗？\n${e}`;E.s.confirm(t,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{try{const e=this.selectedStudents.map((e=>e.id));await D.A.post("http://127.0.0.1:8080/api/students/deleteByIds",e),this.students=this.students.filter((t=>!e.includes(t.id))),this.refreshStudents(),this.$message({message:"删除成功",type:"success"})}catch(e){console.error("Failed to delete students:",e),this.$message({message:"删除失败",type:"error"})}})).catch((()=>{}))},handleSelectionChange(e){this.selectedStudents=e},refreshStudents(){this.fetchStudents()},resetForm(){this.searchForm.name="",this.searchForm.sex="",this.refreshStudents()}},mounted(){this.fetchStudents()}};const P=(0,n.A)(I,[["render",W],["__scopeId","data-v-46f5ca82"]]);var $=P;const T={class:"dialog-footer"},N={class:"dialog-footer"};function j(e,t,l,o,d,s){const r=(0,a.g2)("el-input"),i=(0,a.g2)("el-form-item"),u=(0,a.g2)("el-option"),n=(0,a.g2)("el-select"),m=(0,a.g2)("el-button"),c=(0,a.g2)("el-form"),h=(0,a.g2)("el-table-column"),b=(0,a.g2)("el-table"),p=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c,{inline:!0,model:d.searchForm,width:"30%"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"课程名称"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.searchForm.name,"onUpdate:modelValue":t[0]||(t[0]=e=>d.searchForm.name=e),placeholder:"请输入课程名称"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"课程类别"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.searchForm.courseCategory,"onUpdate:modelValue":t[1]||(t[1]=e=>d.searchForm.courseCategory=e),placeholder:"请选择类别",style:{width:"150px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"请选择",value:""}),(0,a.bF)(u,{label:"考试课",value:"考试课"}),(0,a.bF)(u,{label:"考查课",value:"考查课"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{type:"primary",onClick:s.onSearch},{default:(0,a.k6)((()=>t[14]||(t[14]=[(0,a.eW)("查询")]))),_:1},8,["onClick"]),(0,a.bF)(m,{onClick:s.resetForm},{default:(0,a.k6)((()=>t[15]||(t[15]=[(0,a.eW)("重置")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),(0,a.bF)(m,{type:"info",onClick:s.refreshCourses},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)("刷新")]))),_:1},8,["onClick"]),(0,a.bF)(m,{type:"success",onClick:s.showAddDialog},{default:(0,a.k6)((()=>t[17]||(t[17]=[(0,a.eW)("新增")]))),_:1},8,["onClick"]),(0,a.bF)(m,{type:"danger",onClick:s.deleteCourses},{default:(0,a.k6)((()=>t[18]||(t[18]=[(0,a.eW)("批量删除")]))),_:1},8,["onClick"]),(0,a.bF)(b,{data:d.courses,style:{width:"100%"},onSelectionChange:s.handleSelectionChange},{default:(0,a.k6)((()=>[(0,a.bF)(h,{type:"selection",width:"55"}),(0,a.bF)(h,{prop:"id",label:"ID",width:"100"}),(0,a.bF)(h,{prop:"name",label:"课程名称"}),(0,a.bF)(h,{prop:"courseCategory",label:"类别"}),(0,a.bF)(h,{prop:"coursePeriod",label:"课程周期"}),(0,a.bF)(h,{prop:"remark",label:"备注"}),(0,a.bF)(h,{label:"操作",width:"180"},{default:(0,a.k6)((e=>[(0,a.bF)(m,{size:"mini",onClick:t=>s.showEditDialog(e.row)},{default:(0,a.k6)((()=>t[19]||(t[19]=[(0,a.eW)("编辑")]))),_:2},1032,["onClick"]),(0,a.bF)(m,{size:"mini",type:"danger",onClick:t=>s.confirmDeleteCourse(e.row.id,e.row.name)},{default:(0,a.k6)((()=>t[20]||(t[20]=[(0,a.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,a.bF)(p,{title:"添加课程",modelValue:d.addVisible,"onUpdate:modelValue":t[7]||(t[7]=e=>d.addVisible=e),width:"30%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",T,[(0,a.bF)(m,{onClick:t[6]||(t[6]=e=>d.addVisible=!1)},{default:(0,a.k6)((()=>t[21]||(t[21]=[(0,a.eW)("取 消")]))),_:1}),(0,a.bF)(m,{type:"primary",onClick:s.addCourse},{default:(0,a.k6)((()=>t[22]||(t[22]=[(0,a.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(c,{model:d.addForm},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"课程名称","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.name,"onUpdate:modelValue":t[2]||(t[2]=e=>d.addForm.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"课程类别","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.addForm.courseCategory,"onUpdate:modelValue":t[3]||(t[3]=e=>d.addForm.courseCategory=e),placeholder:"请选择类别"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"考试课",value:"考试课"}),(0,a.bF)(u,{label:"考查课",value:"考查课"}),(0,a.bF)(u,{label:"未知",value:"未知"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"课程周期","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.coursePeriod,"onUpdate:modelValue":t[4]||(t[4]=e=>d.addForm.coursePeriod=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"备注","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.remark,"onUpdate:modelValue":t[5]||(t[5]=e=>d.addForm.remark=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a.bF)(p,{title:"编辑课程",modelValue:d.editVisible,"onUpdate:modelValue":t[13]||(t[13]=e=>d.editVisible=e),width:"30%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",N,[(0,a.bF)(m,{onClick:t[12]||(t[12]=e=>d.editVisible=!1)},{default:(0,a.k6)((()=>t[23]||(t[23]=[(0,a.eW)("取 消")]))),_:1}),(0,a.bF)(m,{type:"primary",onClick:s.updateCourse},{default:(0,a.k6)((()=>t[24]||(t[24]=[(0,a.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(c,{model:d.editForm},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"课程名称","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.name,"onUpdate:modelValue":t[8]||(t[8]=e=>d.editForm.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"类别","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.editForm.courseCategory,"onUpdate:modelValue":t[9]||(t[9]=e=>d.editForm.courseCategory=e),placeholder:"请选择类别"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"考试课",value:"考试课"}),(0,a.bF)(u,{label:"考查课",value:"考查课"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"课程周期","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.coursePeriod,"onUpdate:modelValue":t[10]||(t[10]=e=>d.editForm.coursePeriod=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"备注","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.remark,"onUpdate:modelValue":t[11]||(t[11]=e=>d.editForm.remark=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var O={name:"CourseList",data(){return{courses:[],searchForm:{name:"",courseCategory:""},addVisible:!1,editVisible:!1,addForm:{name:"",courseCategory:"考查课",coursePeriod:"",remark:""},editForm:{id:null,name:"",courseCategory:"",coursePeriod:"",remark:""},selectedCourses:[]}},methods:{async fetchCourses(e){try{const t=await D.A.get("http://127.0.0.1:8080/api/courses/list",{params:e});this.courses=t.data}catch(t){console.error("Failed to fetch courses:",t)}},onSearch(){const e={name:this.searchForm.name,courseCategory:this.searchForm.courseCategory};this.fetchCourses(e)},showAddDialog(){this.addVisible=!0},async addCourse(){try{const e=await D.A.post("http://127.0.0.1:8080/api/courses/add",this.addForm);this.courses.push(e.data),this.addVisible=!1,this.resetAddForm(),this.refreshCourses()}catch(e){console.error("Failed to add course:",e)}},resetAddForm(){this.addForm.name="",this.addForm.courseCategory="考查课",this.addForm.coursePeriod="",this.addForm.remark=""},showEditDialog(e){this.editForm={...e},this.editVisible=!0},async updateCourse(){try{const e=await D.A.post("http://127.0.0.1:8080/api/courses/update",this.editForm),t=this.courses.findIndex((e=>e.id===this.editForm.id));-1!==t&&(this.courses[t]={...e.data}),this.editVisible=!1,this.refreshCourses()}catch(e){console.error("Failed to update course:",e)}},confirmDeleteCourse(e,t){E.s.confirm(`确定要删除课程 "${t}" 吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteCourse(e)})).catch((()=>{}))},async deleteCourse(e){try{await D.A.delete(`http://127.0.0.1:8080/api/courses/delete/${e}`),this.courses=this.courses.filter((t=>t.id!==e)),this.refreshCourses()}catch(t){console.error("Failed to delete course:",t)}},async deleteCourses(){if(0===this.selectedCourses.length)return void this.$message({message:"请选择要删除的课程",type:"warning"});const e=this.selectedCourses.map((e=>e.name)).join(", "),t=`确定要删除以下课程吗？\n${e}`;E.s.confirm(t,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{try{const e=this.selectedCourses.map((e=>e.id));await D.A.post("http://127.0.0.1:8080/api/courses/deleteByIds",e),this.courses=this.courses.filter((t=>!e.includes(t.id))),this.refreshCourses(),this.$message({message:"删除成功",type:"success"})}catch(e){console.error("Failed to delete courses:",e),this.$message({message:"删除失败",type:"error"})}})).catch((()=>{}))},handleSelectionChange(e){this.selectedCourses=e},refreshCourses(){this.fetchCourses()},resetForm(){this.searchForm.name="",this.searchForm.courseCategory="",this.refreshCourses()}},mounted(){this.fetchCourses()}};const q=(0,n.A)(O,[["render",j],["__scopeId","data-v-0c677920"]]);var X=q;const z={class:"login-modal",style:{"z-index":"1000"}};function G(e,t,l,o,d,s){const r=(0,a.g2)("el-input"),i=(0,a.g2)("el-form-item"),u=(0,a.g2)("el-button"),n=(0,a.g2)("el-form"),m=(0,a.g2)("el-card");return(0,a.uX)(),(0,a.CE)("div",z,[(0,a.bF)(m,{class:"box-card"},{header:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("span",null,"登录")],-1)]))),default:(0,a.k6)((()=>[(0,a.bF)(n,{ref:"loginForm",model:o.form,rules:o.rules,"label-width":"80px"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"用户名",prop:"username"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:o.form.username,"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.username=e),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"密码",prop:"password"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{type:"password",modelValue:o.form.password,"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.password=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{type:"primary",onClick:o.onSubmit},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("登录")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])}var M=l(144),H=l(1219),K={emits:["close"],setup(e,{emit:t}){const l=(0,M.Kh)({username:"",password:""}),o={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},a=(0,f.rd)(),d=(0,M.KR)(null),s=async()=>{try{await d.value.validate();const e=await D.A.post("http://127.0.0.1:8080/api/system/login",{username:l.username,password:l.password});e.data?(localStorage.setItem("userToken",e.data.token),t("close"),a.push("/home")):H.nk.error("登录失败，请检查用户名和密码")}catch(e){H.nk.error("登录失败，请检查网络连接")}};return{form:l,rules:o,loginForm:d,onSubmit:s}}};const R=(0,n.A)(K,[["render",G],["__scopeId","data-v-b91973cc"]]);var J=R;const Q={class:"dialog-footer"},Y={class:"dialog-footer"};function Z(e,t,l,o,d,s){const r=(0,a.g2)("el-input"),i=(0,a.g2)("el-form-item"),u=(0,a.g2)("el-button"),n=(0,a.g2)("el-form"),m=(0,a.g2)("el-table-column"),c=(0,a.g2)("el-table"),h=(0,a.g2)("el-date-picker"),b=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(n,{inline:!0,model:d.searchForm,width:"30%"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"书名"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.searchForm.title,"onUpdate:modelValue":t[0]||(t[0]=e=>d.searchForm.title=e),placeholder:"请输入书名"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"作者"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.searchForm.author,"onUpdate:modelValue":t[1]||(t[1]=e=>d.searchForm.author=e),placeholder:"请输入作者"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"出版社"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.searchForm.publisher,"onUpdate:modelValue":t[2]||(t[2]=e=>d.searchForm.publisher=e),placeholder:"请输入出版社"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{type:"primary",onClick:s.onSearch},{default:(0,a.k6)((()=>t[17]||(t[17]=[(0,a.eW)("查询")]))),_:1},8,["onClick"]),(0,a.bF)(u,{onClick:s.resetForm},{default:(0,a.k6)((()=>t[18]||(t[18]=[(0,a.eW)("重置")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),(0,a.bF)(u,{type:"info",onClick:s.refreshBooks},{default:(0,a.k6)((()=>t[19]||(t[19]=[(0,a.eW)("刷新")]))),_:1},8,["onClick"]),(0,a.bF)(u,{type:"success",onClick:s.showAddDialog},{default:(0,a.k6)((()=>t[20]||(t[20]=[(0,a.eW)("新增")]))),_:1},8,["onClick"]),(0,a.bF)(u,{type:"danger",onClick:s.deleteBooks},{default:(0,a.k6)((()=>t[21]||(t[21]=[(0,a.eW)("批量删除")]))),_:1},8,["onClick"]),(0,a.bF)(c,{data:d.books,style:{width:"100%"},onSelectionChange:s.handleSelectionChange},{default:(0,a.k6)((()=>[(0,a.bF)(m,{type:"selection",width:"55"}),(0,a.bF)(m,{prop:"id",label:"ID",width:"100"}),(0,a.bF)(m,{prop:"title",label:"书名"}),(0,a.bF)(m,{prop:"author",label:"作者"}),(0,a.bF)(m,{prop:"publisher",label:"出版社"}),(0,a.bF)(m,{prop:"publishDate",label:"出版时间",width:"150"}),(0,a.bF)(m,{prop:"remarks",label:"备注"}),(0,a.bF)(m,{label:"操作",width:"180"},{default:(0,a.k6)((e=>[(0,a.bF)(u,{size:"mini",onClick:t=>s.showEditDialog(e.row)},{default:(0,a.k6)((()=>t[22]||(t[22]=[(0,a.eW)("编辑")]))),_:2},1032,["onClick"]),(0,a.bF)(u,{size:"mini",type:"danger",onClick:t=>s.confirmDeleteBook(e.row.id,e.row.title)},{default:(0,a.k6)((()=>t[23]||(t[23]=[(0,a.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,a.bF)(b,{title:"添加图书",modelValue:d.addVisible,"onUpdate:modelValue":t[9]||(t[9]=e=>d.addVisible=e),width:"30%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",Q,[(0,a.bF)(u,{onClick:t[8]||(t[8]=e=>d.addVisible=!1)},{default:(0,a.k6)((()=>t[24]||(t[24]=[(0,a.eW)("取 消")]))),_:1}),(0,a.bF)(u,{type:"primary",onClick:s.addBook},{default:(0,a.k6)((()=>t[25]||(t[25]=[(0,a.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(n,{model:d.addForm},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"书名","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.title,"onUpdate:modelValue":t[3]||(t[3]=e=>d.addForm.title=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"作者","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.author,"onUpdate:modelValue":t[4]||(t[4]=e=>d.addForm.author=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"出版社","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.publisher,"onUpdate:modelValue":t[5]||(t[5]=e=>d.addForm.publisher=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"出版时间","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{modelValue:d.addForm.publishDate,"onUpdate:modelValue":t[6]||(t[6]=e=>d.addForm.publishDate=e),type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"备注","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.remarks,"onUpdate:modelValue":t[7]||(t[7]=e=>d.addForm.remarks=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a.bF)(b,{title:"编辑图书",modelValue:d.editVisible,"onUpdate:modelValue":t[16]||(t[16]=e=>d.editVisible=e),width:"30%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",Y,[(0,a.bF)(u,{onClick:t[15]||(t[15]=e=>d.editVisible=!1)},{default:(0,a.k6)((()=>t[26]||(t[26]=[(0,a.eW)("取 消")]))),_:1}),(0,a.bF)(u,{type:"primary",onClick:s.updateBook},{default:(0,a.k6)((()=>t[27]||(t[27]=[(0,a.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(n,{model:d.editForm},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"书名","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.title,"onUpdate:modelValue":t[10]||(t[10]=e=>d.editForm.title=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"作者","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.author,"onUpdate:modelValue":t[11]||(t[11]=e=>d.editForm.author=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"出版社","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.publisher,"onUpdate:modelValue":t[12]||(t[12]=e=>d.editForm.publisher=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"出版时间","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{modelValue:d.editForm.publishDate,"onUpdate:modelValue":t[13]||(t[13]=e=>d.editForm.publishDate=e),type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"备注","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.remarks,"onUpdate:modelValue":t[14]||(t[14]=e=>d.editForm.remarks=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var ee={name:"BookList",data(){return{books:[],searchForm:{title:"",author:"",publisher:""},addVisible:!1,editVisible:!1,addForm:{title:"",author:"",publisher:"",publishDate:"",remarks:""},editForm:{id:null,title:"",author:"",publisher:"",publishDate:"",remarks:""},selectedBooks:[]}},methods:{async fetchBooks(e){try{const t=await D.A.get("http://127.0.0.1:8080/api/books/list",{params:e});this.books=t.data}catch(t){console.error("Failed to fetch books:",t)}},onSearch(){const e={title:this.searchForm.title,author:this.searchForm.author,publisher:this.searchForm.publisher};this.fetchBooks(e)},showAddDialog(){this.addVisible=!0},async addBook(){try{const e=await D.A.post("http://127.0.0.1:8080/api/books/add",this.addForm);this.books.push(e.data),this.addVisible=!1,this.resetAddForm(),this.refreshBooks()}catch(e){console.error("Failed to add book:",e)}},resetAddForm(){this.addForm.title="",this.addForm.author="",this.addForm.publisher="",this.addForm.publishDate="",this.addForm.remarks=""},showEditDialog(e){this.editForm={...e},this.editVisible=!0},async updateBook(){try{const e=await D.A.post("http://127.0.0.1:8080/api/books/update",this.editForm),t=this.books.findIndex((e=>e.id===this.editForm.id));-1!==t&&(this.books[t]={...e.data}),this.editVisible=!1,this.refreshBooks()}catch(e){console.error("Failed to update book:",e)}},confirmDeleteBook(e,t){E.s.confirm(`确定要删除图书 "${t}" 吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteBook(e)})).catch((()=>{}))},async deleteBook(e){try{await D.A.delete(`http://127.0.0.1:8080/api/books/delete/${e}`),this.books=this.books.filter((t=>t.id!==e)),this.refreshBooks()}catch(t){console.error("Failed to delete book:",t)}},async deleteBooks(){if(0===this.selectedBooks.length)return void this.$message({message:"请选择要删除的图书",type:"warning"});const e=this.selectedBooks.map((e=>e.title)).join(", "),t=`确定要删除以下图书吗？\n${e}`;E.s.confirm(t,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{try{const e=this.selectedBooks.map((e=>e.id));await D.A.post("http://127.0.0.1:8080/api/books/deleteByIds",e),this.books=this.books.filter((t=>!e.includes(t.id))),this.refreshBooks(),this.$message({message:"删除成功",type:"success"})}catch(e){console.error("Failed to delete books:",e),this.$message({message:"删除失败",type:"error"})}})).catch((()=>{}))},handleSelectionChange(e){this.selectedBooks=e},refreshBooks(){this.fetchBooks()},resetForm(){this.searchForm.title="",this.searchForm.author="",this.searchForm.publisher="",this.refreshBooks()}},mounted(){this.fetchBooks()}};const te=(0,n.A)(ee,[["render",Z],["__scopeId","data-v-829e72f0"]]);var le=te;const oe={class:"dialog-footer"},ae={class:"dialog-footer"};function de(e,t,l,o,d,s){const r=(0,a.g2)("el-input"),i=(0,a.g2)("el-form-item"),u=(0,a.g2)("el-button"),n=(0,a.g2)("el-form"),m=(0,a.g2)("el-table-column"),c=(0,a.g2)("el-table"),h=(0,a.g2)("el-option"),b=(0,a.g2)("el-select"),p=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(n,{inline:!0,model:d.searchForm,width:"30%"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"客户姓名"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.searchForm.customerName,"onUpdate:modelValue":t[0]||(t[0]=e=>d.searchForm.customerName=e),placeholder:"请输入客户姓名"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户电话"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.searchForm.customerPhone,"onUpdate:modelValue":t[1]||(t[1]=e=>d.searchForm.customerPhone=e),placeholder:"请输入客户电话"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户邮箱"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.searchForm.customerEmail,"onUpdate:modelValue":t[2]||(t[2]=e=>d.searchForm.customerEmail=e),placeholder:"请输入客户邮箱"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{type:"primary",onClick:s.onSearch},{default:(0,a.k6)((()=>t[19]||(t[19]=[(0,a.eW)("查询")]))),_:1},8,["onClick"]),(0,a.bF)(u,{onClick:s.resetForm},{default:(0,a.k6)((()=>t[20]||(t[20]=[(0,a.eW)("重置")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),(0,a.bF)(u,{type:"info",onClick:s.refreshCustomers},{default:(0,a.k6)((()=>t[21]||(t[21]=[(0,a.eW)("刷新")]))),_:1},8,["onClick"]),(0,a.bF)(u,{type:"success",onClick:s.showAddDialog},{default:(0,a.k6)((()=>t[22]||(t[22]=[(0,a.eW)("新增")]))),_:1},8,["onClick"]),(0,a.bF)(u,{type:"danger",onClick:s.deleteCustomers},{default:(0,a.k6)((()=>t[23]||(t[23]=[(0,a.eW)("批量删除")]))),_:1},8,["onClick"]),(0,a.bF)(c,{data:d.customers,style:{width:"100%"},onSelectionChange:s.handleSelectionChange},{default:(0,a.k6)((()=>[(0,a.bF)(m,{type:"selection",width:"55"}),(0,a.bF)(m,{prop:"customerId",label:"ID",width:"100"}),(0,a.bF)(m,{prop:"customerName",label:"客户姓名"}),(0,a.bF)(m,{prop:"customerGender",label:"客户性别"}),(0,a.bF)(m,{prop:"customerAge",label:"客户年龄"}),(0,a.bF)(m,{prop:"customerPhone",label:"客户电话"}),(0,a.bF)(m,{prop:"customerEmail",label:"客户邮箱"}),(0,a.bF)(m,{prop:"customerAddress",label:"客户地址"}),(0,a.bF)(m,{label:"操作",width:"180"},{default:(0,a.k6)((e=>[(0,a.bF)(u,{size:"mini",onClick:t=>s.showEditDialog(e.row)},{default:(0,a.k6)((()=>t[24]||(t[24]=[(0,a.eW)("编辑")]))),_:2},1032,["onClick"]),(0,a.bF)(u,{size:"mini",type:"danger",onClick:t=>s.confirmDeleteCustomer(e.row.customerId,e.row.customerName)},{default:(0,a.k6)((()=>t[25]||(t[25]=[(0,a.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,a.bF)(p,{title:"添加客户",modelValue:d.addVisible,"onUpdate:modelValue":t[10]||(t[10]=e=>d.addVisible=e),width:"30%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",oe,[(0,a.bF)(u,{onClick:t[9]||(t[9]=e=>d.addVisible=!1)},{default:(0,a.k6)((()=>t[26]||(t[26]=[(0,a.eW)("取 消")]))),_:1}),(0,a.bF)(u,{type:"primary",onClick:s.addCustomer},{default:(0,a.k6)((()=>t[27]||(t[27]=[(0,a.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(n,{model:d.addForm},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"客户姓名","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.customerName,"onUpdate:modelValue":t[3]||(t[3]=e=>d.addForm.customerName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户性别","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:d.addForm.customerGender,"onUpdate:modelValue":t[4]||(t[4]=e=>d.addForm.customerGender=e),placeholder:"请选择性别"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:"男",value:"男"}),(0,a.bF)(h,{label:"女",value:"女"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户年龄","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.customerAge,"onUpdate:modelValue":t[5]||(t[5]=e=>d.addForm.customerAge=e),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户电话","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.customerPhone,"onUpdate:modelValue":t[6]||(t[6]=e=>d.addForm.customerPhone=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户邮箱","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.customerEmail,"onUpdate:modelValue":t[7]||(t[7]=e=>d.addForm.customerEmail=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户地址","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.addForm.customerAddress,"onUpdate:modelValue":t[8]||(t[8]=e=>d.addForm.customerAddress=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a.bF)(p,{title:"编辑客户",modelValue:d.editVisible,"onUpdate:modelValue":t[18]||(t[18]=e=>d.editVisible=e),width:"30%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",ae,[(0,a.bF)(u,{onClick:t[17]||(t[17]=e=>d.editVisible=!1)},{default:(0,a.k6)((()=>t[28]||(t[28]=[(0,a.eW)("取 消")]))),_:1}),(0,a.bF)(u,{type:"primary",onClick:s.updateCustomer},{default:(0,a.k6)((()=>t[29]||(t[29]=[(0,a.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(n,{model:d.editForm},{default:(0,a.k6)((()=>[(0,a.bF)(i,{label:"客户姓名","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.customerName,"onUpdate:modelValue":t[11]||(t[11]=e=>d.editForm.customerName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户性别","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:d.editForm.customerGender,"onUpdate:modelValue":t[12]||(t[12]=e=>d.editForm.customerGender=e),placeholder:"请选择性别"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:"男",value:"男"}),(0,a.bF)(h,{label:"女",value:"女"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户年龄","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.customerAge,"onUpdate:modelValue":t[13]||(t[13]=e=>d.editForm.customerAge=e),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户电话","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.customerPhone,"onUpdate:modelValue":t[14]||(t[14]=e=>d.editForm.customerPhone=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户邮箱","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.customerEmail,"onUpdate:modelValue":t[15]||(t[15]=e=>d.editForm.customerEmail=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(i,{label:"客户地址","label-width":"100px"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:d.editForm.customerAddress,"onUpdate:modelValue":t[16]||(t[16]=e=>d.editForm.customerAddress=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var se={name:"CustomerList",data(){return{customers:[],searchForm:{customerName:"",customerPhone:"",customerEmail:""},addVisible:!1,editVisible:!1,addForm:{customerName:"",customerGender:"",customerAge:null,customerPhone:"",customerEmail:"",customerAddress:""},editForm:{customerId:null,customerName:"",customerGender:"",customerAge:null,customerPhone:"",customerEmail:"",customerAddress:""},selectedCustomers:[]}},methods:{async fetchCustomers(e){try{const t=await D.A.get("http://127.0.0.1:8080/api/customers/list",{params:e});this.customers=t.data}catch(t){console.error("Failed to fetch customers:",t)}},onSearch(){const e={customerName:this.searchForm.customerName,customerPhone:this.searchForm.customerPhone,customerEmail:this.searchForm.customerEmail};this.fetchCustomers(e)},showAddDialog(){this.addVisible=!0},async addCustomer(){try{const e=await D.A.post("http://127.0.0.1:8080/api/customers/add",this.addForm);this.customers.push(e.data),this.addVisible=!1,this.resetAddForm(),this.refreshCustomers()}catch(e){console.error("Failed to add customer:",e)}},resetAddForm(){this.addForm.customerName="",this.addForm.customerGender="",this.addForm.customerAge=null,this.addForm.customerPhone="",this.addForm.customerEmail="",this.addForm.customerAddress=""},showEditDialog(e){this.editForm={...e},this.editVisible=!0},async updateCustomer(){try{const e=await D.A.post("http://127.0.0.1:8080/api/customers/update",this.editForm),t=this.customers.findIndex((e=>e.customerId===this.editForm.customerId));-1!==t&&(this.customers[t]={...e.data}),this.editVisible=!1,this.refreshCustomers()}catch(e){console.error("Failed to update customer:",e)}},confirmDeleteCustomer(e,t){E.s.confirm(`确定要删除客户 "${t}" 吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteCustomer(e)})).catch((()=>{}))},async deleteCustomer(e){try{await D.A.delete(`http://127.0.0.1:8080/api/customers/delete/${e}`),this.customers=this.customers.filter((t=>t.customerId!==e)),this.refreshCustomers()}catch(t){console.error("Failed to delete customer:",t)}},async deleteCustomers(){if(0===this.selectedCustomers.length)return void this.$message({message:"请选择要删除的客户",type:"warning"});const e=this.selectedCustomers.map((e=>e.customerName)).join(", "),t=`确定要删除以下客户吗？\n${e}`;E.s.confirm(t,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{try{const e=this.selectedCustomers.map((e=>e.customerId));await D.A.post("http://127.0.0.1:8080/api/customers/deleteByIds",e),this.customers=this.customers.filter((t=>!e.includes(t.customerId))),this.refreshCustomers(),this.$message({message:"删除成功",type:"success"})}catch(e){console.error("Failed to delete customers:",e),this.$message({message:"删除失败",type:"error"})}})).catch((()=>{}))},handleSelectionChange(e){this.selectedCustomers=e},refreshCustomers(){this.fetchCustomers()},resetForm(){this.searchForm.customerName="",this.searchForm.customerPhone="",this.searchForm.customerEmail="",this.refreshCustomers()}},mounted(){this.fetchCustomers()}};const re=(0,n.A)(se,[["render",de],["__scopeId","data-v-604ef3f6"]]);var ie=re;const ue=[{path:"/",redirect:"/login"},{path:"/login",component:J},{path:"/home",name:"HomeDemo",component:C,meta:{requiresAuth:!0}},{path:"/about",name:"AboutDemo",component:v,meta:{requiresAuth:!0}},{path:"/studentList",name:"StudentList",component:$,meta:{requiresAuth:!0}},{path:"/courseList",name:"CourseList",component:X,meta:{requiresAuth:!0}},{path:"/bookList",name:"BookList",component:le,meta:{requiresAuth:!0}},{path:"/customerList",name:"CustomerList",component:ie,meta:{requiresAuth:!0}},{path:"/contact",name:"ContactDemo",component:U,meta:{requiresAuth:!0}}],ne=(0,f.aE)({history:(0,f.LA)(),routes:ue});ne.beforeEach(((e,t,l)=>{const o=e.matched.some((e=>e.meta.requiresAuth)),a=null!==localStorage.getItem("userToken");o&&!a?l("/login"):l()}));var me=ne;const ce=(0,o.Ef)(p);ce.use(F.A),ce.use(me),ce.mount("#app")}},t={};function l(o){var a=t[o];if(void 0!==a)return a.exports;var d=t[o]={exports:{}};return e[o].call(d.exports,d,d.exports,l),d.exports}l.m=e,function(){var e=[];l.O=function(t,o,a,d){if(!o){var s=1/0;for(n=0;n<e.length;n++){o=e[n][0],a=e[n][1],d=e[n][2];for(var r=!0,i=0;i<o.length;i++)(!1&d||s>=d)&&Object.keys(l.O).every((function(e){return l.O[e](o[i])}))?o.splice(i--,1):(r=!1,d<s&&(s=d));if(r){e.splice(n--,1);var u=a();void 0!==u&&(t=u)}}return t}d=d||0;for(var n=e.length;n>0&&e[n-1][2]>d;n--)e[n]=e[n-1];e[n]=[o,a,d]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,d,s=o[0],r=o[1],i=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(a in r)l.o(r,a)&&(l.m[a]=r[a]);if(i)var n=i(l)}for(t&&t(o);u<s.length;u++)d=s[u],l.o(e,d)&&e[d]&&e[d][0](),e[d]=0;return l.O(n)},o=self["webpackChunkvue3_project"]=self["webpackChunkvue3_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=l.O(void 0,[504],(function(){return l(5645)}));o=l.O(o)})();
//# sourceMappingURL=app.f2e1cac1.js.map